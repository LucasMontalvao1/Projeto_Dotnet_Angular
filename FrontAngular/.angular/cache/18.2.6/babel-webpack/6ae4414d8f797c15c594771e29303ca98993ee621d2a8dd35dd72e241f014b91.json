{"ast":null,"code":"import { SimpleChanges } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/material/icon\";\nfunction TransacaoTotaisComponent_div_0_mat_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-card\", 4)(1, \"div\", 5)(2, \"div\", 6)(3, \"span\", 7);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 8);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"currency\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"mat-icon\", 9);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const card_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"ngClass\", card_r1.class);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(card_r1.label);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getColorClass(card_r1, card_r1.value()));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(7, 6, card_r1.value(), \"BRL\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.getColorClass(card_r1, card_r1.value()));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", card_r1.icon, \" \");\n  }\n}\nfunction TransacaoTotaisComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtemplate(1, TransacaoTotaisComponent_div_0_mat_card_1_Template, 10, 9, \"mat-card\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.cardData);\n  }\n}\nfunction TransacaoTotaisComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\");\n    i0.ɵɵtext(4, \"Nenhum dado dispon\\u00EDvel\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport let TransacaoTotaisComponent = /*#__PURE__*/(() => {\n  class TransacaoTotaisComponent {\n    constructor() {\n      this.transacoes = [];\n      this.cardData = [{\n        label: 'Total Entradas',\n        value: () => this.resumo?.totalEntradas || 0,\n        icon: 'trending_up',\n        class: 'income',\n        colorClass: 'positive'\n      }, {\n        label: 'Total Saídas',\n        value: () => this.resumo?.totalSaidas || 0,\n        icon: 'trending_down',\n        class: 'expense',\n        colorClass: 'negative'\n      }, {\n        label: 'Saldo',\n        value: () => this.resumo?.saldo || 0,\n        icon: 'account_balance_wallet',\n        class: 'balance',\n        colorClass: value => value > 0 ? 'positive' : value < 0 ? 'negative' : ''\n      }, {\n        label: 'Média Mensal',\n        value: () => this.resumo?.mediaMensal || 0,\n        icon: 'show_chart',\n        class: 'average',\n        colorClass: value => value > 0 ? 'positive' : value < 0 ? 'negative' : ''\n      }];\n    }\n    ngOnChanges(changes) {\n      if (!this.resumo && changes['transacoes']?.currentValue) {\n        this.calcularResumo();\n      }\n    }\n    calcularResumo() {\n      const totalEntradas = this.calcularTotal('Entrada');\n      const totalSaidas = this.calcularTotal('Saida');\n      const saldo = totalEntradas - totalSaidas;\n      this.resumo = {\n        totalEntradas,\n        totalSaidas,\n        saldo,\n        mediaMensal: this.calcularMediaMensal(saldo)\n      };\n    }\n    calcularTotal(tipo) {\n      return this.transacoes.filter(t => t.tipo === tipo).reduce((sum, t) => sum + t.valor, 0);\n    }\n    calcularMediaMensal(saldo) {\n      return this.transacoes.length > 0 ? saldo / 12 : 0;\n    }\n    getColorClass(card, value) {\n      return typeof card.colorClass === 'function' ? card.colorClass(value) : card.colorClass;\n    }\n    static {\n      this.ɵfac = function TransacaoTotaisComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TransacaoTotaisComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TransacaoTotaisComponent,\n        selectors: [[\"app-transacao-totais\"]],\n        inputs: {\n          transacoes: \"transacoes\",\n          resumo: \"resumo\"\n        },\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 2,\n        vars: 2,\n        consts: [[\"class\", \"summary-cards\", 4, \"ngIf\"], [\"class\", \"no-data\", 4, \"ngIf\"], [1, \"summary-cards\"], [\"class\", \"summary-card\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"summary-card\", 3, \"ngClass\"], [1, \"card-content\"], [1, \"card-info\"], [1, \"card-label\"], [1, \"card-value\", 3, \"ngClass\"], [1, \"card-icon\", 3, \"ngClass\"], [1, \"no-data\"]],\n        template: function TransacaoTotaisComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, TransacaoTotaisComponent_div_0_Template, 2, 1, \"div\", 0)(1, TransacaoTotaisComponent_div_1_Template, 5, 0, \"div\", 1);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.resumo);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", !ctx.resumo);\n          }\n        },\n        dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i2.MatCard, i3.MatIcon, i1.CurrencyPipe],\n        styles: [\".summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:32px;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;transition:all .3s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}.summary-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px}.summary-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{flex:1}.summary-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:#0009;margin-bottom:8px}.summary-card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:600;line-height:1.2}.summary-card[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{width:48px;height:48px;font-size:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;margin-left:16px;background:#0000000a;transition:all .3s ease}.positive[_ngcontent-%COMP%]{color:#2ecc71}.positive.card-icon[_ngcontent-%COMP%]{background-color:#2ecc711a}.negative[_ngcontent-%COMP%]{color:#e74c3c}.negative.card-icon[_ngcontent-%COMP%]{background-color:#e74c3c1a}.income[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#2ecc711a}.expense[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#e74c3c1a}.balance[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#3498db1a}.average[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#9b59b61a}.no-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px;background:#f8f9fa;border-radius:12px;color:#00000080;margin-bottom:32px}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 768px){.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.card-value[_ngcontent-%COMP%]{font-size:1.25rem}.card-icon[_ngcontent-%COMP%]{width:40px;height:40px;font-size:20px}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}\"]\n      });\n    }\n  }\n  return TransacaoTotaisComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}