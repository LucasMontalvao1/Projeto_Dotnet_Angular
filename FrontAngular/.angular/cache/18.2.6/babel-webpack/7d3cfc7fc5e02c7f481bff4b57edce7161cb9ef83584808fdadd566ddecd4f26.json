{"ast":null,"code":"var __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar _a;\nimport { Component, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { CategoriaService } from '../../../../services/categoria.service';\nimport { CategoriaCreateComponent } from '../categoria-create/categoria-create.component';\nimport { CategoriaEditComponent } from '../categoria-edit/categoria-edit.component';\nimport { CategoriaDetailComponent } from '../categoria-detail/categoria-detail.component';\nimport { CategoriaDeleteComponent } from '../categoria-delete/categoria-delete.component';\nlet CategoriaListComponent = class CategoriaListComponent {\n  constructor(categoriaService, dialog, snackBar) {\n    this.categoriaService = categoriaService;\n    this.dialog = dialog;\n    this.snackBar = snackBar;\n    this.displayedColumns = ['categoriaID', 'nome', 'descricao', 'acoes'];\n    this.isLoading = true;\n    this.error = null;\n    this.dataSource = new MatTableDataSource();\n  }\n  ngOnInit() {\n    this.loadCategorias();\n  }\n  loadCategorias() {\n    this.isLoading = true;\n    this.categoriaService.getCategorias().subscribe({\n      next: categorias => {\n        this.dataSource.data = categorias;\n        this.dataSource.paginator = this.paginator;\n        this.dataSource.sort = this.sort;\n        this.isLoading = false;\n      },\n      error: error => {\n        this.error = error.message;\n        this.isLoading = false;\n        this.showMessage('Erro ao carregar categorias', true);\n      }\n    });\n  }\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n  }\n  openCreateDialog() {\n    const dialogRef = this.dialog.open(CategoriaCreateComponent, {\n      width: '600px'\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadCategorias();\n        this.showMessage('Categoria criada com sucesso');\n      }\n    });\n  }\n  openEditDialog(categoria) {\n    const dialogRef = this.dialog.open(CategoriaEditComponent, {\n      width: '600px',\n      data: categoria\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadCategorias();\n        this.showMessage('Categoria atualizada com sucesso');\n      }\n    });\n  }\n  openDetailsDialog(categoria) {\n    this.dialog.open(CategoriaDetailComponent, {\n      width: '600px',\n      data: categoria\n    });\n  }\n  openDeleteDialog(categoria) {\n    const dialogRef = this.dialog.open(CategoriaDeleteComponent, {\n      width: '400px',\n      data: categoria\n    });\n    dialogRef.afterClosed().subscribe(result => {\n      if (result) {\n        this.loadCategorias();\n        this.showMessage('Categoria exclu√≠da com sucesso');\n      }\n    });\n  }\n  showMessage(message, isError = false) {\n    this.snackBar.open(message, 'Fechar', {\n      duration: 5000,\n      panelClass: isError ? ['error-snackbar'] : ['success-snackbar'],\n      horizontalPosition: 'end',\n      verticalPosition: 'top'\n    });\n  }\n};\n__decorate([ViewChild(MatPaginator), __metadata(\"design:type\", MatPaginator)], CategoriaListComponent.prototype, \"paginator\", void 0);\n__decorate([ViewChild(MatSort), __metadata(\"design:type\", MatSort)], CategoriaListComponent.prototype, \"sort\", void 0);\nCategoriaListComponent = __decorate([Component({\n  selector: 'app-categoria-list',\n  templateUrl: './categoria-list.component.html',\n  styleUrls: ['./categoria-list.component.css']\n}), __metadata(\"design:paramtypes\", [typeof (_a = typeof CategoriaService !== \"undefined\" && CategoriaService) === \"function\" ? _a : Object, MatDialog, MatSnackBar])], CategoriaListComponent);\nexport { CategoriaListComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}