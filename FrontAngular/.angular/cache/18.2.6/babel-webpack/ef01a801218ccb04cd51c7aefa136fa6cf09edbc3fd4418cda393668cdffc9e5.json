{"ast":null,"code":"import { MatDialog } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport * as XLSX from 'xlsx';\nimport jsPDF from 'jspdf';\nimport autoTable from 'jspdf-autotable';\n// Services\nimport { TransacaoService } from '../../../../services/transacao.service';\n// Components\nimport { TransacaoCreateComponent } from '../transacao-create/transacao-create.component';\nimport { TransacaoEditComponent } from '../transacao-edit/transacao-edit.component';\nimport { TransacaoDetailComponent } from '../transacao-detail/transacao-detail.component';\nimport { TransacaoDeleteComponent } from '../transacao-delete/transacao-delete.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../../services/transacao.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/card\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/paginator\";\nimport * as i11 from \"@angular/material/menu\";\nimport * as i12 from \"@angular/material/table\";\nimport * as i13 from \"@angular/material/sort\";\nimport * as i14 from \"../../../../components/menu/menu.component\";\nimport * as i15 from \"../../../../components/footer/footer.component\";\nimport * as i16 from \"../../../../components/transacao-filter/transacao-filter.component\";\nimport * as i17 from \"../../../../components/transacao-totais/transacao-totais.component\";\nconst _c0 = () => [5, 8, 10, 12, 15];\nconst _c1 = (a0, a1) => ({\n  \"positive\": a0,\n  \"negative\": a1\n});\nconst _c2 = (a0, a1) => ({\n  \"tipo-receita\": a0,\n  \"tipo-despesa\": a1\n});\nfunction TransacaoListComponent_mat_progress_bar_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 34);\n  }\n}\nfunction TransacaoListComponent_th_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" ID \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_td_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", row_r2.transacaoID, \" \");\n  }\n}\nfunction TransacaoListComponent_th_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" Data \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_td_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"date\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, row_r3.data, \"dd/MM/yyyy\"), \" \");\n  }\n}\nfunction TransacaoListComponent_th_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" Valor \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_td_47_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(5, _c1, row_r4.tipo === \"RECEITA\", row_r4.tipo === \"DESPESA\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 2, row_r4.valor, \"BRL\"), \" \");\n  }\n}\nfunction TransacaoListComponent_th_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" Tipo \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_td_50_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 36)(1, \"span\", 38);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(2, _c2, row_r5.tipo === \"RECEITA\", row_r5.tipo === \"DESPESA\"));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", row_r5.tipo, \" \");\n  }\n}\nfunction TransacaoListComponent_th_52_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" Categoria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_td_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r6 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", row_r6.categoria.nome, \" \");\n  }\n}\nfunction TransacaoListComponent_th_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 35);\n    i0.ɵɵtext(1, \" Descri\\u00E7\\u00E3o \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_td_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r7 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", row_r7.descricao, \" \");\n  }\n}\nfunction TransacaoListComponent_th_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 39);\n    i0.ɵɵtext(1, \" A\\u00E7\\u00F5es \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_td_59_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 36)(1, \"div\", 40)(2, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function TransacaoListComponent_td_59_Template_button_click_2_listener() {\n      const row_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.openDetailsDialog(row_r9));\n    });\n    i0.ɵɵelementStart(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"visibility\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"button\", 42);\n    i0.ɵɵlistener(\"click\", function TransacaoListComponent_td_59_Template_button_click_5_listener() {\n      const row_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.openEditDialog(row_r9));\n    });\n    i0.ɵɵelementStart(6, \"mat-icon\");\n    i0.ɵɵtext(7, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 43);\n    i0.ɵɵlistener(\"click\", function TransacaoListComponent_td_59_Template_button_click_8_listener() {\n      const row_r9 = i0.ɵɵrestoreView(_r8).$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.openDeleteDialog(row_r9));\n    });\n    i0.ɵɵelementStart(9, \"mat-icon\");\n    i0.ɵɵtext(10, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction TransacaoListComponent_tr_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 44);\n  }\n}\nfunction TransacaoListComponent_tr_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 45);\n  }\n}\nfunction TransacaoListComponent_tr_62_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(2);\n    const input_r11 = i0.ɵɵreference(14);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Nenhuma transa\\u00E7\\u00E3o encontrada para \\\"\", input_r11.value, \"\\\"\");\n  }\n}\nfunction TransacaoListComponent_tr_62_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Nenhuma transa\\u00E7\\u00E3o cadastrada\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction TransacaoListComponent_tr_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 46)(1, \"td\", 47)(2, \"div\", 48)(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, TransacaoListComponent_tr_62_span_5_Template, 2, 1, \"span\", 49)(6, TransacaoListComponent_tr_62_span_6_Template, 2, 0, \"span\", 49);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const input_r11 = i0.ɵɵreference(14);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", input_r11.value);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !input_r11.value);\n  }\n}\nexport let TransacaoListComponent = /*#__PURE__*/(() => {\n  class TransacaoListComponent {\n    constructor(transacaoService, dialog, snackBar) {\n      this.transacaoService = transacaoService;\n      this.dialog = dialog;\n      this.snackBar = snackBar;\n      // Propriedades da Tabela\n      this.displayedColumns = ['transacaoID', 'data', 'valor', 'tipo', 'descricao', 'categoria', 'acoes'];\n      // Estados\n      this.isLoading = true;\n      this.error = null;\n      this.destroy$ = new Subject();\n      // Dados\n      this.transacoesOriginais = [];\n      this.resumo = {\n        totalReceitas: 0,\n        totalDespesas: 0,\n        saldoTotal: 0\n      };\n      this.dataSource = new MatTableDataSource();\n    }\n    ngOnInit() {\n      this.loadTransacoes();\n      this.configurarDataSource();\n    }\n    ngOnDestroy() {\n      this.destroy$.next();\n      this.destroy$.complete();\n    }\n    // Configuração do DataSource com filtros personalizados\n    configurarDataSource() {\n      // Configuração do filtro de texto\n      this.dataSource.filterPredicate = (data, filter) => {\n        const searchStr = filter.toLowerCase();\n        return data.descricao.toLowerCase().includes(searchStr) || data.categoria.nome.toLowerCase().includes(searchStr) || data.tipo.toLowerCase().includes(searchStr);\n      };\n      // Configuração da ordenação\n      this.dataSource.sortingDataAccessor = (data, sortHeaderId) => {\n        switch (sortHeaderId) {\n          case 'categoria':\n            return data.categoria.nome;\n          case 'data':\n            return new Date(data.data).getTime();\n          case 'valor':\n            return data.valor;\n          case 'criadoEm':\n            return new Date(data.criadoEm).getTime();\n          default:\n            return data[sortHeaderId]?.toString() || '';\n        }\n      };\n    }\n    // Carregamento inicial das transações\n    loadTransacoes() {\n      this.isLoading = true;\n      this.transacaoService.getTransacoes().pipe(takeUntil(this.destroy$)).subscribe({\n        next: transacoes => {\n          this.transacoesOriginais = transacoes;\n          this.dataSource.data = transacoes;\n          this.dataSource.paginator = this.paginator;\n          this.dataSource.sort = this.sort;\n          this.calcularResumoFinanceiro();\n          this.isLoading = false;\n        },\n        error: error => {\n          console.error('Erro ao carregar transações:', error);\n          this.error = error.message;\n          this.isLoading = false;\n          this.showMessage('Erro ao carregar transações', true);\n        }\n      });\n    }\n    onFiltroChange(filtro) {\n      let transacoesFiltradas = [...this.transacoesOriginais];\n      if (filtro.tipoFiltro === 'mes' && filtro.mesAno) {\n        const mesAnoSelecionado = new Date(filtro.mesAno);\n        transacoesFiltradas = this.transacoesOriginais.filter(transacao => {\n          const dataTransacao = new Date(transacao.data);\n          return dataTransacao.getMonth() === mesAnoSelecionado.getMonth() && dataTransacao.getFullYear() === mesAnoSelecionado.getFullYear();\n        });\n      } else if (filtro.tipoFiltro === 'periodo' && filtro.dataInicio && filtro.dataFim) {\n        const inicio = new Date(filtro.dataInicio);\n        const fim = new Date(filtro.dataFim);\n        fim.setHours(23, 59, 59);\n        transacoesFiltradas = this.transacoesOriginais.filter(transacao => {\n          const dataTransacao = new Date(transacao.data);\n          return dataTransacao >= inicio && dataTransacao <= fim;\n        });\n      }\n      this.dataSource.data = transacoesFiltradas;\n      this.calcularResumoFinanceiro();\n      if (this.dataSource.paginator) {\n        this.dataSource.paginator.firstPage();\n      }\n    }\n    calcularResumoFinanceiro() {\n      if (!this.dataSource.data) return;\n      this.resumo.totalReceitas = this.dataSource.data.filter(t => t.tipo === 'Entrada').reduce((acc, curr) => acc + curr.valor, 0);\n      this.resumo.totalDespesas = this.dataSource.data.filter(t => t.tipo === 'Saida').reduce((acc, curr) => acc + curr.valor, 0);\n      this.resumo.saldoTotal = this.resumo.totalReceitas - this.resumo.totalDespesas;\n    }\n    applyFilter(event) {\n      const filterValue = event.target.value;\n      this.dataSource.filter = filterValue.trim().toLowerCase();\n      if (this.dataSource.paginator) {\n        this.dataSource.paginator.firstPage();\n      }\n    }\n    // Métodos de CRUD - Diálogos\n    openCreateDialog() {\n      const dialogRef = this.dialog.open(TransacaoCreateComponent, {\n        width: '600px',\n        disableClose: true\n      });\n      dialogRef.afterClosed().pipe(takeUntil(this.destroy$)).subscribe(result => {\n        if (result) {\n          this.loadTransacoes();\n          this.showMessage('Transação criada com sucesso');\n        }\n      });\n    }\n    openEditDialog(transacao) {\n      const dialogRef = this.dialog.open(TransacaoEditComponent, {\n        width: '600px',\n        data: transacao,\n        disableClose: true\n      });\n      dialogRef.afterClosed().pipe(takeUntil(this.destroy$)).subscribe(result => {\n        if (result) {\n          this.loadTransacoes();\n          this.showMessage('Transação atualizada com sucesso');\n        }\n      });\n    }\n    openDetailsDialog(transacao) {\n      this.dialog.open(TransacaoDetailComponent, {\n        width: '600px',\n        data: transacao\n      });\n    }\n    openDeleteDialog(transacao) {\n      const dialogRef = this.dialog.open(TransacaoDeleteComponent, {\n        width: '400px',\n        data: transacao,\n        disableClose: true\n      });\n      dialogRef.afterClosed().pipe(takeUntil(this.destroy$)).subscribe(result => {\n        if (result) {\n          this.loadTransacoes();\n          this.showMessage('Transação excluída com sucesso');\n        }\n      });\n    }\n    // Métodos de Exportação\n    exportarParaExcel() {\n      const dadosExportacao = this.prepararDadosExportacao();\n      const planilha = XLSX.utils.json_to_sheet(dadosExportacao);\n      const pastaTrabalho = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(pastaTrabalho, planilha, 'Transações');\n      XLSX.writeFile(pastaTrabalho, `transacoes_${this.getDataFormatada()}.xlsx`);\n      this.showMessage('Arquivo Excel gerado com sucesso');\n    }\n    exportarParaPDF() {\n      const doc = new jsPDF();\n      const dadosExportacao = this.prepararDadosExportacao();\n      this.configurarCabecalhoPDF(doc);\n      this.adicionarTabelaPDF(doc, dadosExportacao);\n      doc.save(`transacoes_${this.getDataFormatada()}.pdf`);\n      this.showMessage('Arquivo PDF gerado com sucesso');\n    }\n    // Métodos auxiliares para exportação\n    prepararDadosExportacao() {\n      return this.dataSource.filteredData.map(linha => ({\n        'ID': linha.transacaoID,\n        'Data': new Date(linha.data).toLocaleDateString('pt-BR'),\n        'Valor': new Intl.NumberFormat('pt-BR', {\n          style: 'currency',\n          currency: 'BRL'\n        }).format(linha.valor),\n        'Tipo': linha.tipo,\n        'Categoria': linha.categoria.nome,\n        'Descrição': linha.descricao,\n        'Criado em': new Date(linha.criadoEm).toLocaleDateString('pt-BR')\n      }));\n    }\n    configurarCabecalhoPDF(doc) {\n      doc.setFontSize(16);\n      doc.text('Relatório de Transações', 14, 15);\n      doc.setFontSize(10);\n      doc.text(`Período: ${this.getDataFormatada()}`, 14, 22);\n      doc.text(`Total Receitas: ${this.formatarMoeda(this.resumo.totalReceitas)}`, 14, 29);\n      doc.text(`Total Despesas: ${this.formatarMoeda(this.resumo.totalDespesas)}`, 14, 36);\n      doc.text(`Saldo: ${this.formatarMoeda(this.resumo.saldoTotal)}`, 14, 43);\n    }\n    adicionarTabelaPDF(doc, dados) {\n      autoTable(doc, {\n        head: [['ID', 'Data', 'Valor', 'Tipo', 'Categoria', 'Descrição', 'Criado em']],\n        body: dados.map(Object.values),\n        startY: 50,\n        styles: {\n          fontSize: 8,\n          cellPadding: 2,\n          font: 'helvetica'\n        },\n        headStyles: {\n          fillColor: [66, 66, 66]\n        },\n        didDrawPage: data => {\n          const rodape = `Gerado em: ${new Date().toLocaleDateString('pt-BR')} ${new Date().toLocaleTimeString('pt-BR')}`;\n          doc.setFontSize(8);\n          doc.text(rodape, data.settings.margin.left, doc.internal.pageSize.height - 10);\n        }\n      });\n    }\n    // Métodos utilitários\n    getDataFormatada() {\n      return new Date().toISOString().split('T')[0];\n    }\n    showMessage(message, isError = false) {\n      this.snackBar.open(message, 'Fechar', {\n        duration: 5000,\n        panelClass: isError ? ['error-snackbar'] : ['success-snackbar'],\n        horizontalPosition: 'end',\n        verticalPosition: 'top'\n      });\n    }\n    // Método auxiliar para formatar data para exibição\n    formatarData(data) {\n      return new Date(data).toLocaleDateString('pt-BR');\n    }\n    // Método auxiliar para formatar moeda\n    formatarMoeda(valor) {\n      return new Intl.NumberFormat('pt-BR', {\n        style: 'currency',\n        currency: 'BRL'\n      }).format(valor);\n    }\n    static {\n      this.ɵfac = function TransacaoListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TransacaoListComponent)(i0.ɵɵdirectiveInject(i1.TransacaoService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TransacaoListComponent,\n        selectors: [[\"app-transacao-list\"]],\n        viewQuery: function TransacaoListComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(MatPaginator, 5);\n            i0.ɵɵviewQuery(MatSort, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n          }\n        },\n        decls: 65,\n        vars: 9,\n        consts: [[\"input\", \"\"], [\"exportMenu\", \"matMenu\"], [1, \"main-content\"], [1, \"container\"], [1, \"dashboard-header\"], [3, \"resumo\"], [3, \"filtroChange\"], [1, \"actions-bar\"], [1, \"search-filter\"], [\"appearance\", \"outline\"], [\"matInput\", \"\", \"placeholder\", \"Ex. dep\\u00F3sito\", 3, \"keyup\"], [\"matSuffix\", \"\"], [1, \"action-buttons-group\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"mat-stroked-button\", \"\", 3, \"matMenuTriggerFor\"], [\"mat-menu-item\", \"\", 3, \"click\"], [1, \"table-container\"], [\"mode\", \"indeterminate\", 4, \"ngIf\"], [\"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"transacaoID\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"data\"], [\"matColumnDef\", \"valor\"], [\"mat-cell\", \"\", 3, \"ngClass\", 4, \"matCellDef\"], [\"matColumnDef\", \"tipo\"], [\"matColumnDef\", \"categoria\"], [\"matColumnDef\", \"descricao\"], [\"matColumnDef\", \"acoes\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [\"showFirstLastButtons\", \"\", 3, \"pageSizeOptions\", \"pageSize\"], [\"mode\", \"indeterminate\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-cell\", \"\", 3, \"ngClass\"], [3, \"ngClass\"], [\"mat-header-cell\", \"\"], [1, \"action-buttons\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", \"matTooltip\", \"Detalhes\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"accent\", \"matTooltip\", \"Editar\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", \"matTooltip\", \"Excluir\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"mat-row\"], [\"colspan\", \"7\", 1, \"mat-cell\"], [1, \"no-data\"], [4, \"ngIf\"]],\n        template: function TransacaoListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 2);\n            i0.ɵɵelement(1, \"app-menu\");\n            i0.ɵɵelementStart(2, \"div\", 3)(3, \"div\", 4)(4, \"h1\");\n            i0.ɵɵtext(5, \"Transa\\u00E7\\u00F5es\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(6, \"app-transacao-totais\", 5);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(7, \"app-transacao-filter\", 6);\n            i0.ɵɵlistener(\"filtroChange\", function TransacaoListComponent_Template_app_transacao_filter_filtroChange_7_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.onFiltroChange($event));\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"mat-form-field\", 9)(11, \"mat-label\");\n            i0.ɵɵtext(12, \"Filtrar\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"input\", 10, 0);\n            i0.ɵɵlistener(\"keyup\", function TransacaoListComponent_Template_input_keyup_13_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.applyFilter($event));\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"mat-icon\", 11);\n            i0.ɵɵtext(16, \"search\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(17, \"div\", 12)(18, \"button\", 13);\n            i0.ɵɵlistener(\"click\", function TransacaoListComponent_Template_button_click_18_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.openCreateDialog());\n            });\n            i0.ɵɵelementStart(19, \"mat-icon\");\n            i0.ɵɵtext(20, \"add\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(21, \" Nova Transa\\u00E7\\u00E3o \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"button\", 14)(23, \"mat-icon\");\n            i0.ɵɵtext(24, \"download\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(25, \" Exportar \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"mat-menu\", null, 1)(28, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function TransacaoListComponent_Template_button_click_28_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.exportarParaExcel());\n            });\n            i0.ɵɵelementStart(29, \"mat-icon\");\n            i0.ɵɵtext(30, \"description\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(31, \" Exportar Excel \");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(32, \"button\", 15);\n            i0.ɵɵlistener(\"click\", function TransacaoListComponent_Template_button_click_32_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.exportarParaPDF());\n            });\n            i0.ɵɵelementStart(33, \"mat-icon\");\n            i0.ɵɵtext(34, \"picture_as_pdf\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(35, \" Exportar PDF \");\n            i0.ɵɵelementEnd()()()();\n            i0.ɵɵelementStart(36, \"mat-card\", 16);\n            i0.ɵɵtemplate(37, TransacaoListComponent_mat_progress_bar_37_Template, 1, 0, \"mat-progress-bar\", 17);\n            i0.ɵɵelementStart(38, \"table\", 18);\n            i0.ɵɵelementContainerStart(39, 19);\n            i0.ɵɵtemplate(40, TransacaoListComponent_th_40_Template, 2, 0, \"th\", 20)(41, TransacaoListComponent_td_41_Template, 2, 1, \"td\", 21);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(42, 22);\n            i0.ɵɵtemplate(43, TransacaoListComponent_th_43_Template, 2, 0, \"th\", 20)(44, TransacaoListComponent_td_44_Template, 3, 4, \"td\", 21);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(45, 23);\n            i0.ɵɵtemplate(46, TransacaoListComponent_th_46_Template, 2, 0, \"th\", 20)(47, TransacaoListComponent_td_47_Template, 3, 8, \"td\", 24);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(48, 25);\n            i0.ɵɵtemplate(49, TransacaoListComponent_th_49_Template, 2, 0, \"th\", 20)(50, TransacaoListComponent_td_50_Template, 3, 5, \"td\", 21);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(51, 26);\n            i0.ɵɵtemplate(52, TransacaoListComponent_th_52_Template, 2, 0, \"th\", 20)(53, TransacaoListComponent_td_53_Template, 2, 1, \"td\", 21);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(54, 27);\n            i0.ɵɵtemplate(55, TransacaoListComponent_th_55_Template, 2, 0, \"th\", 20)(56, TransacaoListComponent_td_56_Template, 2, 1, \"td\", 21);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(57, 28);\n            i0.ɵɵtemplate(58, TransacaoListComponent_th_58_Template, 2, 0, \"th\", 29)(59, TransacaoListComponent_td_59_Template, 11, 0, \"td\", 21);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵtemplate(60, TransacaoListComponent_tr_60_Template, 1, 0, \"tr\", 30)(61, TransacaoListComponent_tr_61_Template, 1, 0, \"tr\", 31)(62, TransacaoListComponent_tr_62_Template, 7, 2, \"tr\", 32);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(63, \"mat-paginator\", 33);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(64, \"app-footer\");\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            const exportMenu_r12 = i0.ɵɵreference(27);\n            i0.ɵɵadvance(6);\n            i0.ɵɵproperty(\"resumo\", ctx.resumo);\n            i0.ɵɵadvance(16);\n            i0.ɵɵproperty(\"matMenuTriggerFor\", exportMenu_r12);\n            i0.ɵɵadvance(15);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n            i0.ɵɵadvance(22);\n            i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(8, _c0))(\"pageSize\", 5);\n          }\n        },\n        dependencies: [i4.NgClass, i4.NgIf, i5.MatCard, i6.MatFormField, i6.MatLabel, i6.MatSuffix, i7.MatInput, i8.MatButton, i8.MatIconButton, i9.MatIcon, i10.MatPaginator, i11.MatMenu, i11.MatMenuItem, i11.MatMenuTrigger, i12.MatTable, i12.MatHeaderCellDef, i12.MatHeaderRowDef, i12.MatColumnDef, i12.MatCellDef, i12.MatRowDef, i12.MatHeaderCell, i12.MatCell, i12.MatHeaderRow, i12.MatRow, i12.MatNoDataRow, i13.MatSort, i13.MatSortHeader, i14.MenuComponent, i15.FooterComponent, i16.TransacaoFilterComponent, i17.TransacaoTotaisComponent, i4.CurrencyPipe, i4.DatePipe],\n        styles: [\".main-content[_ngcontent-%COMP%]{min-height:100vh;display:flex;flex-direction:column;background-color:#f5f5f5}.container[_ngcontent-%COMP%]{padding:24px;flex:1;max-width:1400px;margin:0 auto;width:100%}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:32px}.dashboard-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:24px;color:#2c3e50;font-weight:500}.summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:32px}.summary-card[_ngcontent-%COMP%]{border-radius:12px;transition:transform .2s ease}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.card-icon[_ngcontent-%COMP%]{background-color:#0000000a;border-radius:50%;padding:12px;margin-right:16px}.card-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card-label[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:4px}.card-value[_ngcontent-%COMP%]{font-size:24px;font-weight:500}.income[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#2ecc71}.expense[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#e74c3c}.balance[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#3498db}.filter-card[_ngcontent-%COMP%]{margin-bottom:24px;border-radius:12px;background-color:#fff}.filter-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:16px}.filter-form[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;align-items:center}.filter-type-group[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:8px;margin-right:16px}.mat-button-toggle-checked[_ngcontent-%COMP%]{background-color:#3498db!important;color:#fff!important}.filter-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:auto;min-width:200px;margin-bottom:-1.25em}.filter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:36px;margin-top:3px}.filter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:4px}[_nghost-%COMP%]     .month-picker .mat-calendar-period-button{pointer-events:none}[_nghost-%COMP%]     .month-picker .mat-calendar-arrow{display:none}.actions-bar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;flex-wrap:wrap;gap:16px}.search-filter[_ngcontent-%COMP%]{flex:1;min-width:280px}.search-filter[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%;max-width:400px}.action-buttons-group[_ngcontent-%COMP%]{display:flex;gap:12px}.table-container[_ngcontent-%COMP%]{border-radius:12px;overflow:hidden;box-shadow:0 2px 4px #0000001a}table[_ngcontent-%COMP%]{width:100%}.mat-row[_ngcontent-%COMP%]:hover{background-color:#00000005}.mat-column-transacaoID[_ngcontent-%COMP%]{width:80px}.mat-column-data[_ngcontent-%COMP%], .mat-column-valor[_ngcontent-%COMP%]{width:120px}.mat-column-tipo[_ngcontent-%COMP%]{width:100px}.mat-column-categoria[_ngcontent-%COMP%]{width:120px}.mat-column-acoes[_ngcontent-%COMP%]{width:150px;text-align:center}.positive[_ngcontent-%COMP%]{color:#2ecc71!important}.negative[_ngcontent-%COMP%]{color:#e74c3c!important}.tipo-receita[_ngcontent-%COMP%]{background-color:#2ecc711a;color:#2ecc71;padding:4px 8px;border-radius:4px;font-weight:500}.tipo-despesa[_ngcontent-%COMP%]{background-color:#e74c3c1a;color:#e74c3c;padding:4px 8px;border-radius:4px;font-weight:500}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;gap:8px}.no-data[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:40px;color:#0000008a;background-color:#fafafa;border-radius:8px}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:24px}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:16px}.actions-bar[_ngcontent-%COMP%]{flex-direction:column}.search-filter[_ngcontent-%COMP%], .action-buttons-group[_ngcontent-%COMP%]{width:100%}.action-buttons-group[_ngcontent-%COMP%]{justify-content:space-between}.filter-form[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.filter-type-group[_ngcontent-%COMP%]{width:100%;margin-right:0;margin-bottom:16px}.filter-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.filter-form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.mat-column-descricao[_ngcontent-%COMP%], .mat-column-categoria[_ngcontent-%COMP%]{display:none}.action-buttons[_ngcontent-%COMP%]{justify-content:center}.card-value[_ngcontent-%COMP%]{font-size:20px}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.summary-cards[_ngcontent-%COMP%], .filter-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.mat-elevation-z8[_ngcontent-%COMP%]{border-radius:12px}.mat-paginator[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.12)}.mat-button[_ngcontent-%COMP%]:hover, .mat-raised-button[_ngcontent-%COMP%]:hover, .mat-stroked-button[_ngcontent-%COMP%]:hover{opacity:.9}.mat-form-field-disabled[_ngcontent-%COMP%]{opacity:.6}.mat-error[_ngcontent-%COMP%]{font-size:12px;margin-top:4px}\"]\n      });\n    }\n  }\n  return TransacaoListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}