{"ast":null,"code":"import { SimpleChanges } from '@angular/core';\nimport { ResumoFinanceiro } from '@/app/models/resumo-financeiro.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/card\";\nimport * as i3 from \"@angular/material/icon\";\nconst _c0 = (a0, a1) => ({\n  \"positive\": a0,\n  \"negative\": a1\n});\nexport let TransacaoTotaisComponent = /*#__PURE__*/(() => {\n  class TransacaoTotaisComponent {\n    constructor() {\n      this.transacoes = [];\n    }\n    // Se não receber o resumo, calcula com base nas transações\n    ngOnChanges(changes) {\n      if (!this.resumo && changes['transacoes']) {\n        this.calcularResumo();\n      }\n    }\n    calcularResumo() {\n      const totalEntradas = this.getTotalEntradas();\n      const totalSaidas = this.getTotalSaidas();\n      this.resumo = {\n        totalEntradas,\n        totalSaidas,\n        saldo: totalEntradas - totalSaidas,\n        mediaMensal: this.calcularMediaMensal()\n      };\n    }\n    getTotalEntradas() {\n      return this.transacoes.filter(t => t.tipo === 'Entrada').reduce((sum, t) => sum + t.valor, 0);\n    }\n    getTotalSaidas() {\n      return this.transacoes.filter(t => t.tipo === 'Saida').reduce((sum, t) => sum + t.valor, 0);\n    }\n    calcularMediaMensal() {\n      const total = this.transacoes.reduce((sum, t) => sum + t.valor, 0);\n      return this.transacoes.length > 0 ? total / 12 : 0;\n    }\n    static {\n      this.ɵfac = function TransacaoTotaisComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || TransacaoTotaisComponent)();\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: TransacaoTotaisComponent,\n        selectors: [[\"app-transacao-totais\"]],\n        inputs: {\n          transacoes: \"transacoes\",\n          resumo: \"resumo\"\n        },\n        features: [i0.ɵɵNgOnChangesFeature],\n        decls: 41,\n        vars: 20,\n        consts: [[1, \"summary-cards\"], [1, \"summary-card\"], [1, \"card-content\"], [1, \"card-info\"], [1, \"card-label\"], [1, \"card-value\", \"positive\"], [1, \"card-icon\", \"positive\"], [1, \"card-value\", \"negative\"], [1, \"card-icon\", \"negative\"], [1, \"card-value\", 3, \"ngClass\"], [1, \"card-icon\"], [1, \"card-value\"]],\n        template: function TransacaoTotaisComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"mat-card\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"span\", 4);\n            i0.ɵɵtext(5, \"Total Entradas\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"span\", 5);\n            i0.ɵɵtext(7);\n            i0.ɵɵpipe(8, \"currency\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(9, \"mat-icon\", 6);\n            i0.ɵɵtext(10, \"trending_up\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(11, \"mat-card\", 1)(12, \"div\", 2)(13, \"div\", 3)(14, \"span\", 4);\n            i0.ɵɵtext(15, \"Total Sa\\u00EDdas\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"span\", 7);\n            i0.ɵɵtext(17);\n            i0.ɵɵpipe(18, \"currency\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"mat-icon\", 8);\n            i0.ɵɵtext(20, \"trending_down\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(21, \"mat-card\", 1)(22, \"div\", 2)(23, \"div\", 3)(24, \"span\", 4);\n            i0.ɵɵtext(25, \"Saldo\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(26, \"span\", 9);\n            i0.ɵɵtext(27);\n            i0.ɵɵpipe(28, \"currency\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(29, \"mat-icon\", 10);\n            i0.ɵɵtext(30, \"account_balance_wallet\");\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(31, \"mat-card\", 1)(32, \"div\", 2)(33, \"div\", 3)(34, \"span\", 4);\n            i0.ɵɵtext(35, \"M\\u00E9dia Mensal\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(36, \"span\", 11);\n            i0.ɵɵtext(37);\n            i0.ɵɵpipe(38, \"currency\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(39, \"mat-icon\", 10);\n            i0.ɵɵtext(40, \"show_chart\");\n            i0.ɵɵelementEnd()()()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(8, 5, ctx.getTotalEntradas(), \"BRL\"), \" \");\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(18, 8, ctx.getTotalSaidas(), \"BRL\"), \" \");\n            i0.ɵɵadvance(9);\n            i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(17, _c0, ctx.getSaldo() > 0, ctx.getSaldo() < 0));\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(28, 11, ctx.getSaldo(), \"BRL\"), \" \");\n            i0.ɵɵadvance(10);\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(38, 14, ctx.getMediaMensal(), \"BRL\"), \" \");\n          }\n        },\n        dependencies: [i1.NgClass, i2.MatCard, i3.MatIcon, i1.CurrencyPipe],\n        styles: [\".summary-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-bottom:32px}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]{border-radius:12px;transition:transform .2s ease}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.summary-cards[_ngcontent-%COMP%]   .summary-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px}.summary-cards[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background-color:#0000000a;border-radius:50%;padding:12px;margin-right:16px}.summary-cards[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-cards[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-label[_ngcontent-%COMP%]{font-size:14px;color:#0009;margin-bottom:4px}.summary-cards[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{font-size:24px;font-weight:500}.summary-cards[_ngcontent-%COMP%]   .income[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#2ecc71}.summary-cards[_ngcontent-%COMP%]   .expense[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#e74c3c}.summary-cards[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .card-value[_ngcontent-%COMP%]{color:#3498db}@media (max-width: 768px){.summary-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.card-value[_ngcontent-%COMP%]{font-size:20px}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}.summary-cards[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}\"]\n      });\n    }\n  }\n  return TransacaoTotaisComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}