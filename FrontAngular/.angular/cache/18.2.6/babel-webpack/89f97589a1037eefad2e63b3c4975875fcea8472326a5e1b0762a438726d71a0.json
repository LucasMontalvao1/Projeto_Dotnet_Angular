{"ast":null,"code":"import { MatDialog } from '@angular/material/dialog';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatSnackBar } from '@angular/material/snack-bar';\nimport { CategoriaService } from '../../../services/categoria.service';\nimport { CategoriaCreateComponent } from '../categoria-create/categoria-create.component';\nimport { CategoriaEditComponent } from '../categoria-edit/categoria-edit.component';\nimport { CategoriaDetailComponent } from '../categoria-detail/categoria-detail.component';\nimport { CategoriaDeleteComponent } from '../categoria-delete/categoria-delete.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/categoria.service\";\nimport * as i2 from \"@angular/material/dialog\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/material/button\";\nimport * as i8 from \"@angular/material/icon\";\nimport * as i9 from \"@angular/material/paginator\";\nimport * as i10 from \"@angular/material/table\";\nimport * as i11 from \"@angular/material/sort\";\nimport * as i12 from \"../../../components/menu/menu.component\";\nimport * as i13 from \"../../../components/footer/footer.component\";\nconst _c0 = () => [5, 10, 25, 100];\nfunction CategoriaListComponent_mat_progress_bar_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"mat-progress-bar\", 22);\n  }\n}\nfunction CategoriaListComponent_th_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23);\n    i0.ɵɵtext(1, \" ID \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriaListComponent_td_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", row_r2.categoriaID, \" \");\n  }\n}\nfunction CategoriaListComponent_th_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23);\n    i0.ɵɵtext(1, \" Nome \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriaListComponent_td_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r3 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", row_r3.nome, \" \");\n  }\n}\nfunction CategoriaListComponent_th_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 23);\n    i0.ɵɵtext(1, \" Descri\\u00E7\\u00E3o \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriaListComponent_td_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", row_r4.descricao, \" \");\n  }\n}\nfunction CategoriaListComponent_th_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 25);\n    i0.ɵɵtext(1, \" A\\u00E7\\u00F5es \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriaListComponent_td_31_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"td\", 24)(1, \"div\", 26)(2, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function CategoriaListComponent_td_31_Template_button_click_2_listener() {\n      const row_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openDetailsDialog(row_r6));\n    });\n    i0.ɵɵelementStart(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"visibility\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function CategoriaListComponent_td_31_Template_button_click_5_listener() {\n      const row_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openEditDialog(row_r6));\n    });\n    i0.ɵɵelementStart(6, \"mat-icon\");\n    i0.ɵɵtext(7, \"edit\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"button\", 29);\n    i0.ɵɵlistener(\"click\", function CategoriaListComponent_td_31_Template_button_click_8_listener() {\n      const row_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.openDeleteDialog(row_r6));\n    });\n    i0.ɵɵelementStart(9, \"mat-icon\");\n    i0.ɵɵtext(10, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nfunction CategoriaListComponent_tr_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 30);\n  }\n}\nfunction CategoriaListComponent_tr_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 31);\n  }\n}\nfunction CategoriaListComponent_tr_34_span_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext(2);\n    const input_r8 = i0.ɵɵreference(14);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\"Nenhuma categoria encontrada para \\\"\", input_r8.value, \"\\\"\");\n  }\n}\nfunction CategoriaListComponent_tr_34_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Nenhuma categoria cadastrada\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CategoriaListComponent_tr_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 32)(1, \"td\", 33)(2, \"div\", 34)(3, \"mat-icon\");\n    i0.ɵɵtext(4, \"info\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, CategoriaListComponent_tr_34_span_5_Template, 2, 1, \"span\", 35)(6, CategoriaListComponent_tr_34_span_6_Template, 2, 0, \"span\", 35);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const input_r8 = i0.ɵɵreference(14);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngIf\", input_r8.value);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !input_r8.value);\n  }\n}\nexport let CategoriaListComponent = /*#__PURE__*/(() => {\n  class CategoriaListComponent {\n    constructor(categoriaService, dialog, snackBar) {\n      this.categoriaService = categoriaService;\n      this.dialog = dialog;\n      this.snackBar = snackBar;\n      this.displayedColumns = ['categoriaID', 'nome', 'descricao', 'acoes'];\n      this.isLoading = true;\n      this.error = null;\n      this.dataSource = new MatTableDataSource();\n    }\n    ngOnInit() {\n      this.loadCategorias();\n    }\n    loadCategorias() {\n      this.isLoading = true;\n      this.categoriaService.getCategorias().subscribe({\n        next: categorias => {\n          this.dataSource.data = categorias;\n          this.dataSource.paginator = this.paginator;\n          this.dataSource.sort = this.sort;\n          this.isLoading = false;\n        },\n        error: error => {\n          this.error = error.message;\n          this.isLoading = false;\n          this.showMessage('Erro ao carregar categorias', true);\n        }\n      });\n    }\n    applyFilter(event) {\n      const filterValue = event.target.value;\n      this.dataSource.filter = filterValue.trim().toLowerCase();\n    }\n    openCreateDialog() {\n      const dialogRef = this.dialog.open(CategoriaCreateComponent, {\n        width: '600px'\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.loadCategorias();\n          this.showMessage('Categoria criada com sucesso');\n        }\n      });\n    }\n    openEditDialog(categoria) {\n      const dialogRef = this.dialog.open(CategoriaEditComponent, {\n        width: '600px',\n        data: categoria\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.loadCategorias();\n          this.showMessage('Categoria atualizada com sucesso');\n        }\n      });\n    }\n    openDetailsDialog(categoria) {\n      this.dialog.open(CategoriaDetailComponent, {\n        width: '600px',\n        data: categoria\n      });\n    }\n    openDeleteDialog(categoria) {\n      const dialogRef = this.dialog.open(CategoriaDeleteComponent, {\n        width: '400px',\n        data: categoria\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        if (result) {\n          this.loadCategorias();\n          this.showMessage('Categoria excluída com sucesso');\n        }\n      });\n    }\n    showMessage(message, isError = false) {\n      this.snackBar.open(message, 'Fechar', {\n        duration: 5000,\n        panelClass: isError ? ['error-snackbar'] : ['success-snackbar'],\n        horizontalPosition: 'end',\n        verticalPosition: 'top'\n      });\n    }\n    static {\n      this.ɵfac = function CategoriaListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || CategoriaListComponent)(i0.ɵɵdirectiveInject(i1.CategoriaService), i0.ɵɵdirectiveInject(i2.MatDialog), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: CategoriaListComponent,\n        selectors: [[\"app-categoria-list\"]],\n        viewQuery: function CategoriaListComponent_Query(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵviewQuery(MatPaginator, 5);\n            i0.ɵɵviewQuery(MatSort, 5);\n          }\n          if (rf & 2) {\n            let _t;\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n            i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n          }\n        },\n        decls: 37,\n        vars: 6,\n        consts: [[\"input\", \"\"], [1, \"main-content\"], [1, \"container\"], [1, \"header\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [\"appearance\", \"outline\", 1, \"filter-field\"], [\"matInput\", \"\", \"placeholder\", \"Ex. Alimenta\\u00E7\\u00E3o\", 3, \"keyup\"], [\"matSuffix\", \"\"], [1, \"mat-elevation-z8\"], [\"mode\", \"indeterminate\", 4, \"ngIf\"], [\"mat-table\", \"\", \"matSort\", \"\", 3, \"dataSource\"], [\"matColumnDef\", \"categoriaID\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"nome\"], [\"matColumnDef\", \"descricao\"], [\"matColumnDef\", \"acoes\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"class\", \"mat-row\", 4, \"matNoDataRow\"], [\"aria-label\", \"Selecione a p\\u00E1gina de categorias\", 3, \"pageSizeOptions\"], [\"mode\", \"indeterminate\"], [\"mat-header-cell\", \"\", \"mat-sort-header\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-cell\", \"\"], [1, \"action-buttons\"], [\"mat-icon-button\", \"\", \"color\", \"primary\", \"matTooltip\", \"Detalhes\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"accent\", \"matTooltip\", \"Editar\", 3, \"click\"], [\"mat-icon-button\", \"\", \"color\", \"warn\", \"matTooltip\", \"Excluir\", 3, \"click\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"], [1, \"mat-row\"], [\"colspan\", \"4\", 1, \"mat-cell\"], [1, \"no-data\"], [4, \"ngIf\"]],\n        template: function CategoriaListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            const _r1 = i0.ɵɵgetCurrentView();\n            i0.ɵɵelementStart(0, \"div\", 1);\n            i0.ɵɵelement(1, \"app-menu\");\n            i0.ɵɵelementStart(2, \"div\", 2)(3, \"div\", 3)(4, \"h1\");\n            i0.ɵɵtext(5, \"Categorias\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"button\", 4);\n            i0.ɵɵlistener(\"click\", function CategoriaListComponent_Template_button_click_6_listener() {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.openCreateDialog());\n            });\n            i0.ɵɵelementStart(7, \"mat-icon\");\n            i0.ɵɵtext(8, \"add\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵtext(9, \" Nova Categoria \");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(10, \"mat-form-field\", 5)(11, \"mat-label\");\n            i0.ɵɵtext(12, \"Filtrar\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(13, \"input\", 6, 0);\n            i0.ɵɵlistener(\"keyup\", function CategoriaListComponent_Template_input_keyup_13_listener($event) {\n              i0.ɵɵrestoreView(_r1);\n              return i0.ɵɵresetView(ctx.applyFilter($event));\n            });\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(15, \"mat-icon\", 7);\n            i0.ɵɵtext(16, \"search\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(17, \"div\", 8);\n            i0.ɵɵtemplate(18, CategoriaListComponent_mat_progress_bar_18_Template, 1, 0, \"mat-progress-bar\", 9);\n            i0.ɵɵelementStart(19, \"table\", 10);\n            i0.ɵɵelementContainerStart(20, 11);\n            i0.ɵɵtemplate(21, CategoriaListComponent_th_21_Template, 2, 0, \"th\", 12)(22, CategoriaListComponent_td_22_Template, 2, 1, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(23, 14);\n            i0.ɵɵtemplate(24, CategoriaListComponent_th_24_Template, 2, 0, \"th\", 12)(25, CategoriaListComponent_td_25_Template, 2, 1, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(26, 15);\n            i0.ɵɵtemplate(27, CategoriaListComponent_th_27_Template, 2, 0, \"th\", 12)(28, CategoriaListComponent_td_28_Template, 2, 1, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵelementContainerStart(29, 16);\n            i0.ɵɵtemplate(30, CategoriaListComponent_th_30_Template, 2, 0, \"th\", 17)(31, CategoriaListComponent_td_31_Template, 11, 0, \"td\", 13);\n            i0.ɵɵelementContainerEnd();\n            i0.ɵɵtemplate(32, CategoriaListComponent_tr_32_Template, 1, 0, \"tr\", 18)(33, CategoriaListComponent_tr_33_Template, 1, 0, \"tr\", 19)(34, CategoriaListComponent_tr_34_Template, 7, 2, \"tr\", 20);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(35, \"mat-paginator\", 21);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelement(36, \"app-footer\");\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(18);\n            i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"dataSource\", ctx.dataSource);\n            i0.ɵɵadvance(13);\n            i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"pageSizeOptions\", i0.ɵɵpureFunction0(5, _c0));\n          }\n        },\n        dependencies: [i4.NgIf, i5.MatFormField, i5.MatLabel, i5.MatSuffix, i6.MatInput, i7.MatButton, i7.MatIconButton, i8.MatIcon, i9.MatPaginator, i10.MatTable, i10.MatHeaderCellDef, i10.MatHeaderRowDef, i10.MatColumnDef, i10.MatCellDef, i10.MatRowDef, i10.MatHeaderCell, i10.MatCell, i10.MatHeaderRow, i10.MatRow, i10.MatNoDataRow, i11.MatSort, i11.MatSortHeader, i12.MenuComponent, i13.FooterComponent]\n      });\n    }\n  }\n  return CategoriaListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}